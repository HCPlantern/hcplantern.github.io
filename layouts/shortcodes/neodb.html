<!--Available categories: book, movie, tv, podcast, album, game, performance-->
{{ $category := .Get 0 }}
<!--Available types: wishlist, progress, complete-->
{{ $type := .Get 1 }}

{{ if eq $type "" }}
{{ $type = "complete" }}
{{ end }}

{{ $url := printf "https://neodb-api.hcplantern.top/%s?type=%s" $category $type }}

{{ $json := getJSON $url}}

<div class="item-gallery">
    {{ range $value := first 5 $json.data }}
    {{ $item := $value.item }}
    <div class="item-card">
        <a href="{{ $item.id }}" target="_blank" rel="noreferrer">
            <div class="item-cover-wrapper">
                <img class="item-cover" src="{{ .item.cover_image_url }}" alt="{{ .item.display_title }}">
            </div>
            <div class="item-info">
                <h3 class="item-title">{{ .item.display_title }}</h3>
            </div>
        </a>
    </div>
    {{ end }}
</div>

<style>
    .item-gallery {
        display: flex;
        padding: 0 1rem;
        overflow-x: scroll;
    }

    .item-card {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        flex: 0 0 17%;
        margin: 0 0.5rem 1rem;
        border-radius: 5px;
        transition: transform 0.2s;
        width: 8rem;
        min-width: 6rem;
    }

    .item-card:hover {
        transform: translateY(-5px);
    }

    .item-cover {
        width: 100%;
        min-height: 3rem;
        border: 2px solid transparent;
    }

    .item-cover-wrapper {
    }

    .item-info {
        padding: 0.5rem 0 0.5rem 0.5rem;
    }

    .item-title {
        font-size: 1rem;
        margin-bottom: 0.5rem;
    }

</style>
