<style>
    .item-gallery {
        display: flex;
        overflow-x: auto;
        padding: 1rem;
        gap: 1rem;
    }

    .item-card {
        flex: 0 0 auto;
        width: 180px;
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
        background: #fff;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
    }

    .item-card:hover {
        transform: translateY(-5px);
    }

    .item-cover {
        width: 100%;
        display: block;
    }

    .item-info {
        padding: 0.5rem;
    }

    .item-title {
        font-size: 1rem;
        margin-bottom: 0.5rem;
    }

    .item-rating {
        font-size: 0.85rem;
        color: #f5a623;
    }

    .star {
        color: #ddd;
    }

    .star.filled {
        color: #f5a623;
    }

    .rating-value {
        font-weight: bold;
        margin-left: 0.5rem;
    }

    .no-rating {
        color: #999;
    }

    /* Add responsive design if needed */
    @media (max-width: 768px) {
        .item-card {
            width: 150px;
        }
    }

</style>

<!--Available categories: book, movie, tv, podcast, album, game, performance-->
{{ $category := .Get 0 }}
<!--Available types: wishlist, progress, complete-->
{{ $type := .Get 1 }}

{{ if eq $type "" }}
{{ $type = "complete" }}
{{ end }}

{{ $url := printf "https://db.immmmm.com/%s?type=%s" $category $type }}

{{ $json := getJSON $url}}

<div class="item-gallery">
    {{ range $value := first 5 $json.data }}
    {{ $item := $value.item }}
    <div class="item-card">
        <img class="item-cover" src="{{ .item.cover_image_url }}" alt="{{ .item.display_title }}">
        <div class="item-info">
            <h3 class="item-title">{{ .item.display_title }}</h3>
            {{ if .item.rating }}
            <div class="item-rating">
                {{ range seq 1 (math.Round .item.rating) }}
                <span class="star filled">★</span>
                {{ end }}
                {{ range seq 1 (sub 5 (math.Round .item.rating)) }}
                <span class="star">☆</span>
                {{ end }}
                <span class="rating-value">{{ .item.rating }}</span>
            </div>
            {{ else }}
            <div class="item-rating no-rating">未评分</div>
            {{ end }}
        </div>
    </div>
    {{ end }}
</div>
